[gd_scene load_steps=8 format=3 uid="uid://gebnblpa811q"]

[ext_resource type="PackedScene" uid="uid://p8hu1d662mb3" path="res://Player/Plane.tscn" id="1_aoggf"]
[ext_resource type="Script" uid="uid://dq7babpg5mojc" path="res://Player/Thruster.cs" id="2_3vl5u"]
[ext_resource type="Script" uid="uid://canvmt0a7oco6" path="res://Wings/Wing.cs" id="3_fhl08"]
[ext_resource type="Resource" uid="uid://cj1j11x4ioxe5" path="res://Wings/default Wing configuration.tres" id="4_vtle1"]
[ext_resource type="Script" uid="uid://c631vcp26dh6i" path="res://Wings/WingsManager.cs" id="5_fhl08"]
[ext_resource type="Script" uid="uid://y8jdxo21yuoi" path="res://Player/UiController.cs" id="6_a3tn1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_hdd2g"]
radius = 0.232468

[node name="Player" type="RigidBody3D"]
physics_interpolation_mode = 1
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.162489)
axis_lock_angular_y = true
axis_lock_angular_z = true
mass = 1000.0
center_of_mass_mode = 1
continuous_cd = true

[node name="Plane" parent="." instance=ExtResource("1_aoggf")]

[node name="Wh Back" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.460364, -2.2212)
shape = SubResource("SphereShape3D_hdd2g")

[node name="Wh FL" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0.219, 1.814)
shape = SubResource("SphereShape3D_hdd2g")

[node name="Wh FR" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0.219, 1.814)
visible = false
shape = SubResource("SphereShape3D_hdd2g")

[node name="Tp cam" type="Camera3D" parent="."]
transform = Transform3D(-1, 6.85911e-09, -8.71533e-08, 0, 0.996917, 0.0784591, 8.74228e-08, 0.0784591, -0.996917, 0, 2.721, -6.115)

[node name="Fp cam" type="Camera3D" parent="."]
transform = Transform3D(-0.999391, 0, 0.0348995, 0, 1, 0, -0.0348995, 0, -0.999391, 0, 1.821, 0.632)
visible = false

[node name="Thruster" type="Node3D" parent="." node_paths=PackedStringArray("rb")]
script = ExtResource("2_3vl5u")
rb = NodePath("..")
thrusterStrength = 1.9e+06

[node name="Wings" type="Node" parent="."]

[node name="wings" type="Node3D" parent="."]

[node name="Wg FL" type="Node3D" parent="wings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.62898, 0.950839, 1.02532)
script = ExtResource("3_fhl08")
size = Vector2(4, 1.7)
configResource = ExtResource("4_vtle1")
relativePosition = Vector3(2.62898, 0.950839, 1.02532)

[node name="Wg FR" type="Node3D" parent="wings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.629, 0.951, 1.025)
script = ExtResource("3_fhl08")
size = Vector2(4, 1.7)
configResource = ExtResource("4_vtle1")
flapAngleModifier = -20.0
relativePosition = Vector3(-2.629, 0.951, 1.025)

[node name="Wg BL" type="Node3D" parent="wings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.3, 1.099, -3.636)
script = ExtResource("3_fhl08")
size = Vector2(2.5, 1.2)
configResource = ExtResource("4_vtle1")
relativePosition = Vector3(1.3, 1.099, -3.636)

[node name="Wg BR" type="Node3D" parent="wings"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.3, 1.099, -3.636)
script = ExtResource("3_fhl08")
size = Vector2(2.5, 1.2)
configResource = ExtResource("4_vtle1")
relativePosition = Vector3(-1.3, 1.099, -3.636)

[node name="wings manager" type="Node3D" parent="wings" node_paths=PackedStringArray("wings", "pitchWings", "rollWings", "yawWings", "rb")]
script = ExtResource("5_fhl08")
gravity = 10.0
wings = [NodePath("../Wg FL"), NodePath("../Wg FR"), NodePath("../Wg BL"), NodePath("../Wg BR")]
pitchWings = [NodePath("../Wg BL"), NodePath("../Wg BR")]
rollWings = [NodePath("../Wg FL"), NodePath("../Wg FR")]
yawWings = []
rb = NodePath("../..")

[node name="CanvasLayer" type="CanvasLayer" parent="." node_paths=PackedStringArray("rb", "wingsManager", "speed", "AoA")]
script = ExtResource("6_a3tn1")
rb = NodePath("..")
wingsManager = NodePath("../wings/wings manager")
speed = NodePath("Speed/Label")
AoA = NodePath("Aoa/Value")

[node name="Aoa" type="Panel" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -124.0
offset_right = 200.0
offset_bottom = -55.0
grow_vertical = 0

[node name="Label" type="Label" parent="CanvasLayer/Aoa"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -10.0
offset_bottom = -43.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 20
text = "AoA:
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Value" type="Label" parent="CanvasLayer/Aoa"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -4.0
offset_top = 14.0
offset_right = 14.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 40
text = "Speed!
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Speed" type="Panel" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -55.0
offset_right = 200.0
grow_vertical = 0

[node name="Label" type="Label" parent="CanvasLayer/Speed"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 40
text = "Speed!
"
horizontal_alignment = 1
vertical_alignment = 1
